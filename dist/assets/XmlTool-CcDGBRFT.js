import{r as n,u as j,j as e}from"./index-DwkGyXRE.js";import{B as l}from"./Button-nWPDMw_E.js";import{T as p}from"./TextArea-BGoBekBT.js";import{T as x}from"./ToolSection-DOJU4p5W.js";import{c as y}from"./clipboard-4Xj0hnU0.js";import{a as g,b as v}from"./format-DWKMCu3E.js";const k=()=>{const[t,d]=n.useState(""),[o,i]=n.useState(""),[u,a]=n.useState(""),[c,r]=n.useState(!1),{t:m}=j(),f=async()=>{r(!0);try{const s=await g(t);i(s),a("")}catch(s){a(m("格式化失败: ${err.message}").replace("${err.message}",s.message))}finally{r(!1)}},h=async()=>{r(!0);try{const s=await v(t);i(s),a("")}catch(s){a(m("压缩失败: ${err.message}").replace("${err.message}",s.message))}finally{r(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(x,{title:"XML 格式化/压缩",description:"格式化 XML 文档或压缩成单行，便于调试与传输。",actions:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{onClick:f,disabled:!t.trim()||c,children:"格式化"}),e.jsx(l,{onClick:h,disabled:!t.trim()||c,children:"压缩"}),e.jsx(l,{variant:"secondary",onClick:()=>{d(""),i(""),a("")},children:"清空"})]}),children:[e.jsx(p,{placeholder:"粘贴 XML 文本",value:t,onChange:s=>d(s.target.value),className:"min-h-[240px] font-mono"}),c?e.jsx("p",{className:"mt-3 text-sm text-slate-500",children:m("处理中…")}):null,u?e.jsx("p",{className:"mt-3 text-sm text-red-500",children:u}):null]}),e.jsx(x,{title:"输出",actions:e.jsx(l,{variant:"secondary",onClick:()=>y(o),disabled:!o,children:"复制结果"}),children:e.jsx(p,{value:o,readOnly:!0,className:"min-h-[240px] font-mono"})})]})};export{k as default};
