import{r as s,u as b,j as e}from"./index-DwkGyXRE.js";import{B as x}from"./Button-nWPDMw_E.js";import{I as f}from"./Input-BRbRfnvk.js";import{T as S}from"./ToolSection-DOJU4p5W.js";import{f as k}from"./time-DDmTBnv5.js";const I=a=>{const i=Math.floor(a/60),n=a%60;return`${String(i).padStart(2,"0")}:${String(n).padStart(2,"0")}`},T=()=>{const[a,i]=s.useState(1),[n,h]=s.useState(0),[c,o]=s.useState(0),[d,u]=s.useState(!1),l=s.useRef(null),{t:m}=b(),t=s.useMemo(()=>a*60+n,[a,n]),j=t?Math.max(0,Math.round((t-c)/t*100)):0;s.useEffect(()=>{if(d)return l.current=setInterval(()=>{o(r=>r<=1?(clearInterval(l.current),0):r-1)},1e3),()=>clearInterval(l.current)},[d]);const v=()=>{t&&(o(t),u(!0))},g=()=>{clearInterval(l.current),u(!1)},p=()=>{clearInterval(l.current),u(!1),o(0)},N=k(c);return e.jsxs(S,{title:"倒计时/定时器",description:"设置倒计时提醒，支持开始、暂停与重置。",actions:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{onClick:v,disabled:!t,children:"开始"}),e.jsx(x,{variant:"secondary",onClick:g,disabled:!d,children:"暂停"}),e.jsx(x,{variant:"ghost",onClick:p,children:"重置"})]}),children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-slate-500 dark:text-slate-300",children:m("分钟")}),e.jsx(f,{type:"number",min:0,value:a,onChange:r=>i(Number(r.target.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-slate-500 dark:text-slate-300",children:m("秒")}),e.jsx(f,{type:"number",min:0,max:59,value:n,onChange:r=>h(Number(r.target.value))})]}),e.jsx("div",{className:"flex flex-col justify-end",children:e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:m("总时长: ${total} 秒").replace("${total}",t)})})]}),e.jsxs("div",{className:"mt-6 flex flex-col items-center gap-3",children:[e.jsx("div",{className:"text-5xl font-bold tracking-wider text-slate-700 dark:text-slate-100",children:I(c)}),e.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:e.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${j}%`}})}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:N.humanize})]})]})};export{T as default};
