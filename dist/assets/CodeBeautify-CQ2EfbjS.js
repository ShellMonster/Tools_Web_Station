import{r as i,u as y,j as a}from"./index-DwkGyXRE.js";import{B as n}from"./Button-nWPDMw_E.js";import{S as v}from"./Select-BEKYeDdG.js";import{T as h}from"./TextArea-BGoBekBT.js";import{T as x}from"./ToolSection-DOJU4p5W.js";import{c as S}from"./clipboard-4Xj0hnU0.js";import{i as C,k as w,l as k,n as b,o as T,p as N}from"./format-DWKMCu3E.js";const O=()=>{const[o,f]=i.useState("html"),[e,u]=i.useState(""),[c,s]=i.useState(""),[p,r]=i.useState(""),[m,l]=i.useState(!1),{t:d}=y(),j=async()=>{l(!0);try{switch(o){case"html":s(await k(e));break;case"css":s(await w(e));break;default:s(await C(e))}r("")}catch(t){r(d("格式化失败: ${err.message}").replace("${err.message}",t.message))}finally{l(!1)}},g=async()=>{l(!0);try{switch(o){case"html":s(await N(e));break;case"css":s(await T(e));break;default:s(await b(e))}r("")}catch(t){r(d("压缩失败: ${err.message}").replace("${err.message}",t.message))}finally{l(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(x,{title:"HTML/JS/CSS 美化/压缩",description:"对代码进行格式化或压缩，快速整理页面资源。",actions:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(v,{value:o,onChange:t=>f(t.target.value),className:"w-40",children:[a.jsx("option",{value:"html",children:"HTML"}),a.jsx("option",{value:"css",children:"CSS"}),a.jsx("option",{value:"js",children:"JavaScript"})]}),a.jsx(n,{onClick:j,disabled:!e.trim()||m,children:"格式化"}),a.jsx(n,{onClick:g,disabled:!e.trim()||m,children:"压缩"}),a.jsx(n,{variant:"secondary",onClick:()=>{u(""),s(""),r("")},children:"清空"})]}),children:[a.jsx(h,{placeholder:"粘贴代码",value:e,onChange:t=>u(t.target.value),className:"min-h-[240px] font-mono"}),m?a.jsx("p",{className:"mt-3 text-sm text-slate-500",children:d("处理中…")}):null,p?a.jsx("p",{className:"mt-3 text-sm text-red-500",children:p}):null]}),a.jsx(x,{title:"输出",actions:a.jsx(n,{variant:"secondary",onClick:()=>S(c),disabled:!c,children:"复制结果"}),children:a.jsx(h,{value:c,readOnly:!0,className:"min-h-[240px] font-mono"})})]})};export{O as default};
