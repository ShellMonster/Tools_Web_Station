import{r as u,j as e}from"./vendor-E1qkQgBK.js";import{I as C}from"./Input-dBmVsq4B.js";import{S as b}from"./Select-BKMIeGih.js";import{T as N}from"./ToolSection-D3WFVMtC.js";import{u as m}from"./constants-DFR2ISu6.js";import"./format-parsers-Cy82sy8R.js";import"./index-T0krPfu9.js";import"./mermaid-qV9g4jTJ.js";const B=(a,d,c,i)=>{const r=m[a];if(!r)return i;const o=r.units[d],s=r.units[c];if(!o||!s)return i;const f=o.toBase?o.toBase:l=>l*o.ratio;return(s.fromBase?s.fromBase:l=>l/s.ratio)(f(i))},E=()=>{const[a,d]=u.useState("length"),[c,i]=u.useState("meter"),[r,o]=u.useState("kilometer"),[s,f]=u.useState(1),p=u.useMemo(()=>{const t=Number(s);return Number.isFinite(t)?B(a,c,r,t):0},[a,c,r,s]),l=m[a],h=t=>{const n=m[t],x=Object.keys(n.units),g=n.base||x[0],j=x.find(v=>v!==g)||g;d(t),i(g),o(j)};return e.jsxs(N,{title:"单位换算器",description:"支持长度、重量、温度、体积、面积等单位换算。",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(b,{value:a,onChange:t=>h(t.target.value),className:"w-full",children:Object.entries(m).map(([t,n])=>e.jsx("option",{value:t,children:n.label},t))}),e.jsx(b,{value:c,onChange:t=>i(t.target.value),className:"w-full",children:Object.entries(l.units).map(([t,n])=>e.jsx("option",{value:t,children:n.label},t))}),e.jsx(b,{value:r,onChange:t=>o(t.target.value),className:"w-full",children:Object.entries(l.units).map(([t,n])=>e.jsx("option",{value:t,children:n.label},t))}),e.jsx(C,{type:"number",value:s,onChange:t=>f(t.target.value)})]}),e.jsx("div",{className:"mt-6 rounded-lg border border-slate-200 bg-slate-50 px-4 py-3 text-lg font-medium text-slate-700 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-100",children:Number.isFinite(p)?p.toFixed(6):"—"})]})};export{E as default};
