import{r as u,j as t}from"./index-DwkGyXRE.js";import{I as C}from"./Input-BRbRfnvk.js";import{S as b}from"./Select-BEKYeDdG.js";import{T as N}from"./ToolSection-DOJU4p5W.js";import{u as m}from"./constants-DFR2ISu6.js";const B=(a,d,c,i)=>{const r=m[a];if(!r)return i;const o=r.units[d],s=r.units[c];if(!o||!s)return i;const f=o.toBase?o.toBase:l=>l*o.ratio;return(s.fromBase?s.fromBase:l=>l/s.ratio)(f(i))},w=()=>{const[a,d]=u.useState("length"),[c,i]=u.useState("meter"),[r,o]=u.useState("kilometer"),[s,f]=u.useState(1),g=u.useMemo(()=>{const e=Number(s);return Number.isFinite(e)?B(a,c,r,e):0},[a,c,r,s]),l=m[a],h=e=>{const n=m[e],x=Object.keys(n.units),p=n.base||x[0],j=x.find(v=>v!==p)||p;d(e),i(p),o(j)};return t.jsxs(N,{title:"单位换算器",description:"支持长度、重量、温度、体积、面积等单位换算。",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsx(b,{value:a,onChange:e=>h(e.target.value),className:"w-full",children:Object.entries(m).map(([e,n])=>t.jsx("option",{value:e,children:n.label},e))}),t.jsx(b,{value:c,onChange:e=>i(e.target.value),className:"w-full",children:Object.entries(l.units).map(([e,n])=>t.jsx("option",{value:e,children:n.label},e))}),t.jsx(b,{value:r,onChange:e=>o(e.target.value),className:"w-full",children:Object.entries(l.units).map(([e,n])=>t.jsx("option",{value:e,children:n.label},e))}),t.jsx(C,{type:"number",value:s,onChange:e=>f(e.target.value)})]}),t.jsx("div",{className:"mt-6 rounded-lg border border-slate-200 bg-slate-50 px-4 py-3 text-lg font-medium text-slate-700 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-100",children:Number.isFinite(g)?g.toFixed(6):"—"})]})};export{w as default};
