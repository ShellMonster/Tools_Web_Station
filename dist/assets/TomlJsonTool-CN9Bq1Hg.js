import{r as n,u as T,j as e}from"./index-DwkGyXRE.js";import{B as d}from"./Button-nWPDMw_E.js";import{T as h}from"./TextArea-BGoBekBT.js";import{T as g}from"./ToolSection-DOJU4p5W.js";import{t as j,c as f}from"./format-DWKMCu3E.js";const O=()=>{const[r,l]=n.useState(""),[c,i]=n.useState(""),[x,t]=n.useState(""),[m,o]=n.useState(!1),{t:a}=T(),p=async()=>{o(!0);try{const s=await j(r);i(s),t("")}catch(s){t(a("转换失败: ${err.message}").replace("${err.message}",s.message))}finally{o(!1)}},u=async()=>{o(!0);try{const s=await f(c);l(s),t("")}catch(s){t(a("转换失败: ${err.message}").replace("${err.message}",s.message))}finally{o(!1)}};return e.jsxs(g,{title:"TOML ↔ JSON 转换",description:"快速转换 TOML 与 JSON 数据结构。",actions:e.jsx(d,{variant:"secondary",onClick:()=>{l(""),i(""),t("")},children:"清空"}),children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(h,{placeholder:"TOML 内容",value:r,onChange:s=>l(s.target.value),className:"min-h-[220px] font-mono"}),e.jsx("div",{className:"mt-2 flex gap-2",children:e.jsx(d,{onClick:p,disabled:!r.trim()||m,children:a("转换为 JSON →")})})]}),e.jsxs("div",{children:[e.jsx(h,{placeholder:"JSON 内容",value:c,onChange:s=>i(s.target.value),className:"min-h-[220px] font-mono"}),e.jsx("div",{className:"mt-2 flex gap-2",children:e.jsx(d,{onClick:u,disabled:!c.trim()||m,children:a("← 转换为 TOML")})})]})]}),m?e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:a("处理中…")}):null,x?e.jsx("p",{className:"mt-3 text-sm text-red-500",children:x}):null]})};export{O as default};
