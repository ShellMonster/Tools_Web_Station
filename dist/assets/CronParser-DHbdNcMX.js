import{r as a,j as e}from"./vendor-E1qkQgBK.js";import{B as i}from"./Button-S8-yJkDU.js";import{I as j}from"./Input-dBmVsq4B.js";import{T as S}from"./ToolSection-D3WFVMtC.js";import{p as C}from"./time-D8lmLT62.js";import{u as b}from"./usePersistentState-C9LP9LsX.js";import{u as k}from"./index-T0krPfu9.js";import"./format-parsers-Cy82sy8R.js";import"./mermaid-qV9g4jTJ.js";const $=()=>{const[x,l,u]=b("tool:cron",()=>({expression:"*/5 * * * *"})),{expression:o}=x,[c,n]=a.useState(""),[p,s]=a.useState(""),[m,d]=a.useState(!1),{t:r}=k(),h=async()=>{d(!0);try{const t=await C(o);n(t),s("")}catch(t){s(r("解析失败: ${err.message}").replace("${err.message}",t.message))}finally{d(!1)}},f=()=>{l(()=>({expression:"0 9 * * 1-5"})),n(""),s("")},g=a.useMemo(()=>r("例如 */5 * * * *"),[r]);return e.jsxs(S,{title:"Cron 表达式解析",description:"解析标准 Cron 表达式，转换为自然语言描述。",actions:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{onClick:h,disabled:!o.trim()||m,children:m?"解析中…":"解析"}),e.jsx(i,{variant:"ghost",onClick:f,children:r("载入示例")}),e.jsx(i,{variant:"secondary",onClick:()=>{u(),n(""),s("")},children:"清空"})]}),children:[e.jsx(j,{value:o,onChange:t=>l(()=>({expression:t.target.value})),placeholder:g}),c?e.jsx("p",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-600 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-200",children:c}):null,p?e.jsx("p",{className:"mt-2 text-sm text-red-500",children:p}):null]})};export{$ as default};
