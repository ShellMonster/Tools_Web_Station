import{r as s,j as e}from"./vendor-E1qkQgBK.js";import{B as x}from"./Button-S8-yJkDU.js";import{I as f}from"./Input-dBmVsq4B.js";import{T as b}from"./ToolSection-D3WFVMtC.js";import{f as S}from"./time-D8lmLT62.js";import{u as k}from"./index-T0krPfu9.js";import"./format-parsers-Cy82sy8R.js";import"./mermaid-qV9g4jTJ.js";const I=a=>{const i=Math.floor(a/60),n=a%60;return`${String(i).padStart(2,"0")}:${String(n).padStart(2,"0")}`},B=()=>{const[a,i]=s.useState(1),[n,h]=s.useState(0),[o,c]=s.useState(0),[d,m]=s.useState(!1),l=s.useRef(null),{t:u}=k(),t=s.useMemo(()=>a*60+n,[a,n]),p=t?Math.max(0,Math.round((t-o)/t*100)):0;s.useEffect(()=>{if(d)return l.current=setInterval(()=>{c(r=>r<=1?(clearInterval(l.current),0):r-1)},1e3),()=>clearInterval(l.current)},[d]);const j=()=>{t&&(c(t),m(!0))},v=()=>{clearInterval(l.current),m(!1)},g=()=>{clearInterval(l.current),m(!1),c(0)},N=S(o);return e.jsxs(b,{title:"倒计时/定时器",description:"设置倒计时提醒，支持开始、暂停与重置。",actions:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{onClick:j,disabled:!t,children:"开始"}),e.jsx(x,{variant:"secondary",onClick:v,disabled:!d,children:"暂停"}),e.jsx(x,{variant:"ghost",onClick:g,children:"重置"})]}),children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-slate-500 dark:text-slate-300",children:u("分钟")}),e.jsx(f,{type:"number",min:0,value:a,onChange:r=>i(Number(r.target.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-slate-500 dark:text-slate-300",children:u("秒")}),e.jsx(f,{type:"number",min:0,max:59,value:n,onChange:r=>h(Number(r.target.value))})]}),e.jsx("div",{className:"flex flex-col justify-end",children:e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:u("总时长: ${total} 秒").replace("${total}",t)})})]}),e.jsxs("div",{className:"mt-6 flex flex-col items-center gap-3",children:[e.jsx("div",{className:"text-5xl font-bold tracking-wider text-slate-700 dark:text-slate-100",children:I(o)}),e.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:e.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${p}%`}})}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:N.humanize})]})]})};export{B as default};
