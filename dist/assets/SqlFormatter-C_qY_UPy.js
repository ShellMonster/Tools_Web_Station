import{r as s,u as f,j as t}from"./index-DwkGyXRE.js";import{B as n}from"./Button-nWPDMw_E.js";import{T as u}from"./TextArea-BGoBekBT.js";import{T as x}from"./ToolSection-DOJU4p5W.js";import{c as j}from"./clipboard-4Xj0hnU0.js";import{q as S}from"./format-DWKMCu3E.js";const L=()=>{const[a,l]=s.useState(""),[r,i]=s.useState(""),[c,o]=s.useState(""),[m,d]=s.useState(!1),{t:p}=f(),h=async()=>{d(!0);try{const e=await S(a);i(e),o("")}catch(e){o(p("格式化失败: ${err.message}").replace("${err.message}",e.message))}finally{d(!1)}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs(x,{title:"SQL 格式化",description:"格式化 SQL 语句，自动缩进关键字。",actions:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(n,{onClick:h,disabled:!a.trim()||m,children:"格式化"}),t.jsx(n,{variant:"secondary",onClick:()=>{l(""),i(""),o("")},children:"清空"})]}),children:[t.jsx(u,{placeholder:"粘贴 SQL 语句",value:a,onChange:e=>l(e.target.value),className:"min-h-[220px] font-mono"}),m?t.jsx("p",{className:"mt-3 text-sm text-slate-500",children:p("处理中…")}):null,c?t.jsx("p",{className:"mt-3 text-sm text-red-500",children:c}):null]}),t.jsx(x,{title:"输出",actions:t.jsx(n,{variant:"secondary",onClick:()=>j(r),disabled:!r,children:"复制结果"}),children:t.jsx(u,{value:r,readOnly:!0,className:"min-h-[220px] font-mono"})})]})};export{L as default};
