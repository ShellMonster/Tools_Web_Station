import{r,j as e}from"./index-DwkGyXRE.js";import{B as g}from"./Button-nWPDMw_E.js";import{I as u}from"./Input-BRbRfnvk.js";import{T as j}from"./TextArea-BGoBekBT.js";import{T as v}from"./ToolSection-DOJU4p5W.js";const T=()=>{const[l,x]=r.useState("\\d+"),[c,i]=r.useState("g"),[n,o]=r.useState("数字 123 与 456 会被匹配"),[m,d]=r.useState(""),h=r.useMemo(()=>{if(!l)return[];try{const s=new RegExp(l,c);d("");const a=[];if(s.global){let t;for(;(t=s.exec(n))!==null;)a.push({match:t[0],index:t.index,groups:t.slice(1)})}else{const t=s.exec(n);t&&a.push({match:t[0],index:t.index,groups:t.slice(1)})}return a}catch(s){return d(s.message),[]}},[l,c,n]);return e.jsxs(v,{title:"正则表达式测试",description:"在线测试正则表达式，查看匹配结果。",actions:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(g,{variant:"secondary",onClick:()=>{x(""),i(""),o(""),d("")},children:"清空"})}),children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-[2fr_1fr]",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-slate-500 dark:text-slate-300",children:"测试文本"}),e.jsx(j,{value:n,onChange:s=>o(s.target.value),className:"min-h-[220px] font-mono"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-slate-500 dark:text-slate-300",children:"正则表达式"}),e.jsx(u,{value:l,onChange:s=>x(s.target.value),placeholder:"例如 ^\\\\d+$"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-slate-500 dark:text-slate-300",children:"标志 (g i m u y s)"}),e.jsx(u,{value:c,onChange:s=>i(s.target.value)})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-600 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-200",children:["共匹配 ",h.length," 项"]})]})]}),m?e.jsx("p",{className:"mt-3 text-sm text-red-500",children:m}):null,e.jsx("div",{className:"mt-4 space-y-3",children:h.map((s,a)=>e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white/80 px-4 py-3 text-sm dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("div",{className:"font-mono text-primary",children:s.match}),e.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-300",children:["索引：",s.index]}),s.groups.length?e.jsx("div",{className:"mt-2 space-y-1",children:s.groups.map((t,p)=>e.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-300",children:["捕获组 ",p+1,": ",e.jsx("span",{className:"font-mono",children:t})]},p))}):null]},`${s.match}-${a}`))})]})};export{T as default};
