import{r as o,u as g,j as e}from"./index-DwkGyXRE.js";import{B as n}from"./Button-nWPDMw_E.js";import{T as m}from"./TextArea-BGoBekBT.js";import{T as v}from"./ToolSection-DOJU4p5W.js";import{c as x}from"./clipboard-4Xj0hnU0.js";import{b as f,a as b}from"./encoding-BuJYo_4I.js";const E=()=>{const[a,d]=o.useState(""),[t,i]=o.useState(""),[r,l]=o.useState(null),{t:c}=g(),h=()=>{l(null);try{i(f(a))}catch(s){l({type:"encode",message:s.message})}},p=()=>{l(null);try{d(b(t))}catch(s){l({type:"decode",message:s.message})}},u=()=>{d(""),i(""),l(null)},j=o.useMemo(()=>r?(r.type==="encode"?c("编码失败: ${err.message}"):c("解码失败: ${err.message}")).replace("${err.message}",r.message):"",[r,c]);return e.jsx("div",{className:"space-y-6",children:e.jsxs(v,{title:"Base64 编码/解码",description:"支持 UTF-8 文本的 Base64 编码与解码。",actions:e.jsx("div",{className:"flex gap-2",children:e.jsx(n,{variant:"secondary",onClick:u,children:"清空"})}),children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-medium text-slate-600 dark:text-slate-300",children:c("原始文本")}),e.jsx(m,{placeholder:"输入原始文本",value:a,onChange:s=>d(s.target.value)}),e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx(n,{onClick:h,disabled:!a.trim(),children:"编码 →"}),e.jsx(n,{variant:"secondary",onClick:()=>x(a),disabled:!a,children:"复制"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-medium text-slate-600 dark:text-slate-300",children:"Base64"}),e.jsx(m,{placeholder:"Base64 结果",value:t,onChange:s=>i(s.target.value)}),e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx(n,{onClick:p,disabled:!t.trim(),children:"← 解码"}),e.jsx(n,{variant:"secondary",onClick:()=>x(t),disabled:!t,children:"复制"})]})]})]}),r?e.jsx("p",{className:"mt-3 text-sm text-red-500",children:j}):null]})})};export{E as default};
