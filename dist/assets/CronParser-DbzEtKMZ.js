import{r as a,u as j,j as e}from"./index-DwkGyXRE.js";import{B as i}from"./Button-nWPDMw_E.js";import{I as S}from"./Input-BRbRfnvk.js";import{T as C}from"./ToolSection-DOJU4p5W.js";import{p as b}from"./time-DDmTBnv5.js";import{u as k}from"./usePersistentState-zXW_hf9u.js";const B=()=>{const[x,l,u]=k("tool:cron",()=>({expression:"*/5 * * * *"})),{expression:o}=x,[c,n]=a.useState(""),[d,s]=a.useState(""),[p,m]=a.useState(!1),{t:r}=j(),h=async()=>{m(!0);try{const t=await b(o);n(t),s("")}catch(t){s(r("解析失败: ${err.message}").replace("${err.message}",t.message))}finally{m(!1)}},g=()=>{l(()=>({expression:"0 9 * * 1-5"})),n(""),s("")},f=a.useMemo(()=>r("例如 */5 * * * *"),[r]);return e.jsxs(C,{title:"Cron 表达式解析",description:"解析标准 Cron 表达式，转换为自然语言描述。",actions:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{onClick:h,disabled:!o.trim()||p,children:p?"解析中…":"解析"}),e.jsx(i,{variant:"ghost",onClick:g,children:r("载入示例")}),e.jsx(i,{variant:"secondary",onClick:()=>{u(),n(""),s("")},children:"清空"})]}),children:[e.jsx(S,{value:o,onChange:t=>l(()=>({expression:t.target.value})),placeholder:f}),c?e.jsx("p",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-600 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-200",children:c}):null,d?e.jsx("p",{className:"mt-2 text-sm text-red-500",children:d}):null]})};export{B as default};
