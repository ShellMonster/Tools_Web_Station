import{r,u as j,j as e}from"./index-DwkGyXRE.js";import{B as d}from"./Button-nWPDMw_E.js";import{T as h}from"./TextArea-BGoBekBT.js";import{T as g}from"./ToolSection-DOJU4p5W.js";import{y as f,j as N}from"./format-DWKMCu3E.js";const S=()=>{const[o,l]=r.useState(""),[c,i]=r.useState(""),[x,a]=r.useState(""),[m,n]=r.useState(!1),{t}=j(),p=async()=>{n(!0);try{const s=await f(o);i(s),a("")}catch(s){a(t("转换失败: ${err.message}").replace("${err.message}",s.message))}finally{n(!1)}},u=async()=>{n(!0);try{const s=await N(c);l(s),a("")}catch(s){a(t("转换失败: ${err.message}").replace("${err.message}",s.message))}finally{n(!1)}};return e.jsxs(g,{title:"YAML ↔ JSON 转换",description:"在 YAML 与 JSON 之间进行双向转换。",actions:e.jsx(d,{variant:"secondary",onClick:()=>{l(""),i(""),a("")},children:"清空"}),children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(h,{placeholder:"YAML 内容",value:o,onChange:s=>l(s.target.value),className:"min-h-[220px] font-mono"}),e.jsx("div",{className:"mt-2 flex gap-2",children:e.jsx(d,{onClick:p,disabled:!o.trim()||m,children:t("转换为 JSON →")})})]}),e.jsxs("div",{children:[e.jsx(h,{placeholder:"JSON 内容",value:c,onChange:s=>i(s.target.value),className:"min-h-[220px] font-mono"}),e.jsx("div",{className:"mt-2 flex gap-2",children:e.jsx(d,{onClick:u,disabled:!c.trim()||m,children:t("← 转换为 YAML")})})]})]}),m?e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:t("处理中…")}):null,x?e.jsx("p",{className:"mt-3 text-sm text-red-500",children:x}):null]})};export{S as default};
