import{r,u as T,j as e}from"./index-DwkGyXRE.js";import{B as a}from"./Button-nWPDMw_E.js";import{T as u}from"./TextArea-BGoBekBT.js";import{T as o}from"./ToolSection-DOJU4p5W.js";import{c as x}from"./clipboard-4Xj0hnU0.js";import{d as v}from"./encoding-BuJYo_4I.js";const W=()=>{const[t,h]=r.useState(""),[l,p]=r.useState(""),[i,g]=r.useState(""),[d,j]=r.useState(""),[n,c]=r.useState(null),{t:m}=T(),y=()=>{if(t.trim())try{const s=v(t.trim());p(JSON.stringify(s.header,null,2)),g(JSON.stringify(s.payload,null,2)),j(s.signature),c(null)}catch(s){c({message:s.message})}},f=()=>{h(""),p(""),g(""),j(""),c(null)},S=r.useMemo(()=>n?m("解析失败: ${err.message}").replace("${err.message}",n.message):"",[n,m]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{title:"JWT 解码",description:"解析 JWT 的 Header / Payload / Signature 部分，协助调试。",actions:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{variant:"secondary",onClick:f,children:"清空"}),e.jsx(a,{onClick:y,disabled:!t.trim(),children:"解码 JWT"})]}),children:[e.jsx(u,{placeholder:"粘贴 JWT Token",value:t,onChange:s=>h(s.target.value)}),n?e.jsx("p",{className:"mt-3 text-sm text-red-500",children:S}):null]}),e.jsx(o,{title:"Header",actions:e.jsx(a,{variant:"secondary",onClick:()=>x(l),disabled:!l,children:"复制"}),children:e.jsx(u,{value:l,readOnly:!0,className:"min-h-[120px] font-mono"})}),e.jsx(o,{title:"Payload",actions:e.jsx(a,{variant:"secondary",onClick:()=>x(i),disabled:!i,children:"复制"}),children:e.jsx(u,{value:i,readOnly:!0,className:"min-h-[160px] font-mono"})}),e.jsx(o,{title:"Signature",actions:e.jsx(a,{variant:"secondary",onClick:()=>x(d),disabled:!d,children:"复制"}),children:e.jsx("div",{className:"rounded-md border border-slate-200 bg-white px-3 py-3 font-mono text-sm dark:border-slate-800 dark:bg-slate-900",children:d||m("Signature 将显示在此处")})})]})};export{W as default};
