import{r as c,j as t}from"./index-DwkGyXRE.js";import{B as p}from"./Button-nWPDMw_E.js";import{I as h}from"./Input-BRbRfnvk.js";import{T as u}from"./ToolSection-DOJU4p5W.js";const m=[16,32,64,128],g=({text:r,bgColor:d,textColor:n,size:a})=>{const s=document.createElement("canvas");s.width=a,s.height=a;const l=s.getContext("2d");return l.fillStyle=d,l.fillRect(0,0,a,a),l.fillStyle=n,l.font=`${a*.6}px sans-serif`,l.textAlign="center",l.textBaseline="middle",l.fillText(r.slice(0,2).toUpperCase(),a/2,a/2+a*.05),s.toDataURL("image/png")},w=()=>{const[r,d]=c.useState("F"),[n,a]=c.useState("#2563eb"),[s,l]=c.useState("#ffffff"),x=c.useMemo(()=>{const e=new Map;return m.forEach(o=>{e.set(o,g({text:r,bgColor:n,textColor:s,size:o}))}),e},[r,n,s]),f=e=>{const o=x.get(e);if(!o)return;const i=document.createElement("a");i.href=o,i.download=`favicon-${e}.png`,i.click()};return t.jsxs(u,{title:"图标生成 (Favicon)",description:"根据文本快速生成 favicon 预览，可下载多种尺寸。",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"text-sm text-slate-500 dark:text-slate-300",children:"文本"}),t.jsx(h,{value:r,onChange:e=>d(e.target.value),placeholder:"输入字符"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm text-slate-500 dark:text-slate-300",children:"背景色"}),t.jsx("input",{type:"color",value:n,onChange:e=>a(e.target.value),className:"h-10 w-full"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm text-slate-500 dark:text-slate-300",children:"文字颜色"}),t.jsx("input",{type:"color",value:s,onChange:e=>l(e.target.value),className:"h-10 w-full"})]})]}),t.jsx("div",{className:"mt-6 flex flex-wrap items-center gap-6",children:m.map(e=>t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("img",{src:x.get(e),alt:`favicon-${e}`,className:"rounded-lg border border-slate-200 p-2 dark:border-slate-800",width:e+16,height:e+16}),t.jsxs(p,{variant:"secondary",onClick:()=>f(e),children:["下载 ",e,"px"]})]},e))})]})};export{w as default};
